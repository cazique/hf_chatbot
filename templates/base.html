<!doctype html>
<html lang="es" class="{% if current_user.is_authenticated and current_user.theme == 'dark' %}dark{% endif %}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Título por defecto que puede ser sobrescrito por las plantillas hijas -->
  <title>{% block title %}ImmoDoc OCR{% endblock %}</title>
  <!-- TailwindCSS desde CDN para estilos rápidos.  Considera reemplazarlo con una compilación propia en producción. -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <!-- Flowbite CSS: biblioteca de componentes para Tailwind CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flowbite@1.6.6/dist/flowbite.min.css" />
</head>
<body class="flex h-screen overflow-hidden bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100">
  <!-- Barra lateral de navegación -->
  <nav class="flex-shrink-0 w-60 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4 overflow-y-auto">
    <div class="flex items-center mb-8">
      <span class="text-xl font-bold text-blue-600 dark:text-blue-400">ImmoDoc OCR</span>
    </div>
    <ul class="space-y-1">
      <li>
        <a href="{{ url_for('dashboard') }}" class="flex items-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <!-- Home icon -->
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M3 11l9-7 9 7v8a2 2 0 0 1-2 2h-4v-6H9v6H5a2 2 0 0 1-2-2z"/></svg>
          <span class="ml-3">Panel</span>
        </a>
      </li>
      <li>
        <a href="{{ url_for('upload') }}" class="flex items-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <!-- Upload cloud icon -->
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M7 17h10a4 4 0 0 0 .5-7.97A6 6 0 0 0 6 8a5 5 0 0 0 1 9z"/><path d="M12 16V9"/><path d="M9.5 11.5 12 9l2.5 2.5"/></svg>
          <span class="ml-3">Subir</span>
        </a>
      </li>
      <li>
        <a href="{{ url_for('admin_config') }}" class="flex items-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <!-- Users/team icon -->
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="9" cy="9" r="2.5"/><circle cx="15" cy="9" r="2.5"/><path d="M5 18a5 5 0 0 1 8 0M11 18a5 5 0 0 1 8 0"/></svg>
          <span class="ml-3">Admin</span>
        </a>
      </li>
      <li>
        <a href="{{ url_for('settings') }}" class="flex items-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <!-- Gear/settings icon (simplified) -->
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1 1 0 0 0 .2-1.7l-1-1.1a7.5 7.5 0 0 0 .1-1.4l1-1.1a1 1 0 0 0-.2-1.7l-1.6-.6a7.7 7.7 0 0 0-1-1.1l.2-1.7A1 1 0 0 0 16 2.6l-1.7.2a7.7 7.7 0 0 0-1.1-1L12 0" opacity="0"/><path d="M12 2v2M12 20v2M4.9 4.9l1.4 1.4M17.7 17.7l1.4 1.4M2 12h2M20 12h2M4.9 19.1l1.4-1.4M17.7 6.3l1.4-1.4"/></svg>
          <span class="ml-3">Ajustes</span>
        </a>
      </li>
      <li>
        <a href="{{ url_for('logout') }}" class="flex items-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <!-- Logout icon -->
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M13 16l4-4-4-4"/><path d="M17 12H8"/><path d="M12 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h5"/></svg>
          <span class="ml-3">Salir</span>
        </a>
      </li>
      <li>
        <a href="{{ url_for('view_logs') }}" class="flex items-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <!-- Logs icon -->
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 5h16v14H4z"/><path d="M9 3v4"/><path d="M15 3v4"/><path d="M4 9h16"/></svg>
          <span class="ml-3">Historial</span>
        </a>
      </li>
      <li>
        <a href="{{ url_for('chat') }}" class="flex items-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <!-- Chat icon -->
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M6 7h12a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H10l-4 3v-3H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2z"/></svg>
          <span class="ml-3">Chat</span>
        </a>
      </li>
      <li>
        <a href="{{ url_for('features_page') }}" class="flex items-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
          <!-- Info icon -->
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="8"/><path d="M12 10v6M12 7h.01"/></svg>
          <span class="ml-3">Características</span>
        </a>
      </li>
    </ul>
  </nav>
  <!-- Contenido principal -->
  <main class="flex-1 overflow-y-auto p-6">
    {% block content %}{% endblock %}
  </main>
  <!-- Flowbite JS: habilita componentes interactivos como dropdowns y modales -->
  <script src="https://cdn.jsdelivr.net/npm/flowbite@1.6.6/dist/flowbite.min.js"></script>
</body>
</html>